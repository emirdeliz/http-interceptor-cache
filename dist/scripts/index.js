(()=>{const n="http-interceptor-update-state",e="http-interceptor-get-state";function t(){const t=c({channel:e,callback:function(n){null!=chrome.runtime.id&&chrome.runtime.sendMessage({...n.data,channel:e},(function(t){a({channel:`${e}-${n.data.key||"ALL"}`,message:t})}))}}),s=c({channel:n,callback:function(e){null!=chrome.runtime.id&&chrome.runtime.sendMessage({...e.data,channel:n},(function(t){a({channel:`${n}-${e.data.key||"ALL"}`,message:t})}))}});window.addEventListener("beforeunload",(function(){t.close(),s.close()}))}function a({channel:n,message:e,callback:t}){const a=n instanceof BroadcastChannel,c=a?n:new BroadcastChannel(n),s=a?n.name:n,o=JSON.parse(JSON.stringify(e||{channel:""}));o.channel=s,c.postMessage(o),a||c.close(),t&&t()}function c({channel:n,callback:e}){const t=new BroadcastChannel(n);return t.onmessage=function(n){return e&&e(n)},t}function s({path:n,type:e,id:t}){return new Promise((a=>{const c=document.createElement("script");t&&(c.id=t),n&&(c.src=chrome.runtime.getURL(n)),c.type=e||"text/javascript",c.onload=()=>{a(),c.remove()},(document.head||document.documentElement).appendChild(c)}))}!async function(){t(),await s({path:"dist/scripts/constants.js"}),await s({path:"dist/scripts/content-script.js",id:"http-interceptor-cache-content"})}()})();